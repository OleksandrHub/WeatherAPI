{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      city: \"\",\n      error: \"\",\n      info: null\n    };\n  },\n  methods: {\n    async getWeather(city) {\n      this.info = null;\n      if (city.trim().length < 2) {\n        this.error = \"Введіть назву міста більше 1 символу!\";\n        return false;\n      }\n      this.error = \"\";\n      const apiKey = process.env.VUE_APP_WEATHER_API_KEY;\n      const response = await axios.get(`http://api.openweathermap.org/geo/1.0/direct?q=${this.city}&limit=5&appid=ea95d7be6facb880f812da37738353fc`);\n      if (!response.data.length) {\n        this.error = \"Такого міста немає в Базі Даних. Спробуйте іншу назву.\";\n        return;\n      }\n      console.log(response.data);\n      const weather = await axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${response.data[0].lat}&lon=${response.data[0].lon}&units=metric&appid=ea95d7be6facb880f812da37738353fc`);\n      this.info = weather.data;\n      console.log(weather);\n    },\n    formatTime(unixTime) {\n      const date = new Date(unixTime * 1000);\n      return date.toLocaleTimeString(\"uk-UA\", {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    windDirection(deg) {\n      const directions = ['Пн', 'Пн-Сх', 'Сх', 'Пд-Сх', 'Пд', 'Пд-Зх', 'Зх', 'Пн-Зх'];\n      const index = Math.round(deg / 45) % 8;\n      return directions[index];\n    }\n  },\n  computed: {\n    cityName() {\n      return \"«\" + this.city + \"»\";\n    },\n    showTemp() {\n      return \"Температура: \" + this.info.main.temp + \"°C\";\n    },\n    showFeelsLike() {\n      return \"Відчувається як: \" + this.info.main.feels_like + \"°C\";\n    },\n    showHumidity() {\n      return \"Вологість: \" + this.info.main.humidity + \"%\";\n    },\n    showPressure() {\n      return \"Тиск: \" + this.info.main.pressure + \" гПа\";\n    },\n    showWind() {\n      return \"Вітер: \" + this.info.wind.speed + \" м/с, напрям: \" + this.windDirection(this.info.wind.deg);\n    },\n    showClouds() {\n      return \"Хмарність: \" + this.info.clouds.all + \"%\";\n    },\n    showVisibility() {\n      return \"Видимість: \" + this.info.visibility / 1000 + \" км\";\n    },\n    showSunrise() {\n      return \"Схід сонця: \" + this.formatTime(this.info.sys.sunrise);\n    },\n    showSunset() {\n      return \"Захід сонця: \" + this.formatTime(this.info.sys.sunset);\n    }\n  }\n};","map":{"version":3,"names":["axios","data","city","error","info","methods","getWeather","trim","length","apiKey","process","env","VUE_APP_WEATHER_API_KEY","response","get","console","log","weather","lat","lon","formatTime","unixTime","date","Date","toLocaleTimeString","hour","minute","windDirection","deg","directions","index","Math","round","computed","cityName","showTemp","main","temp","showFeelsLike","feels_like","showHumidity","humidity","showPressure","pressure","showWind","wind","speed","showClouds","clouds","all","showVisibility","visibility","showSunrise","sys","sunrise","showSunset","sunset"],"sources":["/home/homesasha/Python_Fullstack/WeatherAPI/src/App.vue"],"sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <h1>Програма для погоди</h1>\n        <p>дізнатися погоду в {{ city == \"\" ? \"вашому місті\" : cityName }}</p>\n        <input type=\"text\" v-model=\"city\" placeholder=\"Введіть місто\">\n        <button v-if=\"city != ''\" @click=\"getWeather(city)\">Отримати погоду</button>\n        <button v-else disabled>Введіть назву міста!</button>\n        <p class=\"error\" v-if=\"error\">{{ error }}</p>\n\n        <div v-if=\"info != null\" class=\"weather_block\">\n            <p><i class=\"fas fa-temperature-high\"></i> {{ showTemp }}</p>\n            <p><i class=\"fas fa-thermometer-half\"></i> {{ showFeelsLike }}</p>\n            <p><i class=\"fas fa-tint\"></i> {{ showHumidity }}</p>\n            <p><i class=\"fas fa-compress-arrows-alt\"></i> {{ showPressure }}</p>\n            <p><i class=\"fas fa-wind\"></i> {{ showWind }}</p>\n            <p><i class=\"fas fa-cloud\"></i> {{ showClouds }}</p>\n            <p><i class=\"fas fa-eye\"></i> {{ showVisibility }}</p>\n            <p><i class=\"fas fa-sun\"></i> {{ showSunrise }}</p>\n            <p><i class=\"fas fa-moon\"></i> {{ showSunset }}</p>\n            <img :src=\"'https://openweathermap.org/img/wn/' + info.weather[0].icon + '@2x.png'\" alt=\"Weather icon\">\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default{\n    data(){\n        return{\n            city:\"\",\n            error:\"\",\n            info: null\n        }\n    },\n    methods:{\n        async getWeather(city){\n            this.info = null\n            if(city.trim().length < 2){\n                this.error = \"Введіть назву міста більше 1 символу!\"\n                return false\n            }\n            this.error = \"\"\n            const apiKey = process.env.VUE_APP_WEATHER_API_KEY;\n\n            const response = await axios.get(`http://api.openweathermap.org/geo/1.0/direct?q=${this.city}&limit=5&appid=ea95d7be6facb880f812da37738353fc`)\n            if (!response.data.length) {\n                this.error = \"Такого міста немає в Базі Даних. Спробуйте іншу назву.\"\n                return\n            }\n            console.log(response.data)\n            const weather = await axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${response.data[0].lat}&lon=${response.data[0].lon}&units=metric&appid=ea95d7be6facb880f812da37738353fc`)\n            this.info = weather.data\n            console.log(weather)\n        },\n        formatTime(unixTime) {\n            const date = new Date(unixTime * 1000);\n            return date.toLocaleTimeString(\"uk-UA\", { hour: '2-digit', minute: '2-digit' });\n        },\n        windDirection(deg) {\n            const directions = ['Пн', 'Пн-Сх', 'Сх', 'Пд-Сх', 'Пд', 'Пд-Зх', 'Зх', 'Пн-Зх'];\n            const index = Math.round(deg / 45) % 8;\n            return directions[index];\n        }\n    },\n    computed:{\n        cityName(){\n            return \"«\" + this.city + \"»\"\n        },\n        showTemp(){\n            return \"Температура: \" + this.info.main.temp + \"°C\"\n        },\n        showFeelsLike() {\n            return \"Відчувається як: \" + this.info.main.feels_like + \"°C\";\n        },\n        showHumidity() {\n            return \"Вологість: \" + this.info.main.humidity + \"%\";\n        },\n        showPressure() {\n            return \"Тиск: \" + this.info.main.pressure + \" гПа\";\n        },\n        showWind() {\n            return \"Вітер: \" + this.info.wind.speed + \" м/с, напрям: \" + this.windDirection(this.info.wind.deg);\n        },\n        showClouds() {\n            return \"Хмарність: \" + this.info.clouds.all + \"%\";\n        },\n        showVisibility() {\n            return \"Видимість: \" + (this.info.visibility / 1000) + \" км\";\n        },\n        showSunrise() {\n            return \"Схід сонця: \" + this.formatTime(this.info.sys.sunrise);\n        },\n        showSunset() {\n            return \"Захід сонця: \" + this.formatTime(this.info.sys.sunset);\n        }\n    }\n}\n</script>\n\n<style scoped>\n.error{\n    color: #d03939;\n}\n.wrapper{\n    width:clamp(200px, 70vw, 1200px);\n    min-height: 500px;\n    border-radius: 50px;\n    padding: 20px;\n    background: #1f0f24;\n    text-align: center;\n    color: whitesmoke;\n    margin: 100px 0;\n}\n.wrapper h1{\n    margin-top: 50px;\n}\n.wrapper p{\n    margin-top: 20px;\n}\n.wrapper input{\n    margin-top: 30px;\n    background-color: transparent;\n    border: 0;\n    border-bottom:2px solid #110813 ;\n    color:#fcfcfc;\n    font-size: 14px;\n    padding: 5px 8px;\n    outline: none;\n}\n.wrapper input:focus{\n    border-bottom-color:#6e2d7d;\n}\n.wrapper button:disabled{\n    background-color: #e34d4d;\n    border:2px solid #b93e35;\n    cursor: not-allowed;\n}\n.wrapper button{\n    background-color: #e3904d;\n    color:#fcfcfc;\n    border-radius: 10px;\n    border:2px solid #b95a35;\n    padding: 10px 15px;\n    margin-top: 10px;\n    margin-left: 20px;\n    cursor:pointer;\n    transition: transform 500ms ease;\n}\n.wrapper button:hover{\n    transform: scale(1.1) translateY(-5px);\n}\n.weather_block p {\n    text-align: left;\n    margin-left: 20vw;\n}\n.weather_block img{\n    position: relative;\n    left:20vw;\n}\n@media (max-width: 600px) {\n    .weather_block p{\n        margin-left: 10vw;\n    }\n}\n</style>\n"],"mappings":"AAyBA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAc;EACVC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,IAAI,EAAC,EAAE;MACPC,KAAK,EAAC,EAAE;MACRC,IAAI,EAAE;IACV;EACJ,CAAC;EACDC,OAAO,EAAC;IACJ,MAAMC,UAAUA,CAACJ,IAAI,EAAC;MAClB,IAAI,CAACE,IAAG,GAAI,IAAG;MACf,IAAGF,IAAI,CAACK,IAAI,CAAC,CAAC,CAACC,MAAK,GAAI,CAAC,EAAC;QACtB,IAAI,CAACL,KAAI,GAAI,uCAAsC;QACnD,OAAO,KAAI;MACf;MACA,IAAI,CAACA,KAAI,GAAI,EAAC;MACd,MAAMM,MAAK,GAAIC,OAAO,CAACC,GAAG,CAACC,uBAAuB;MAElD,MAAMC,QAAO,GAAI,MAAMb,KAAK,CAACc,GAAG,CAAC,kDAAkD,IAAI,CAACZ,IAAI,iDAAiD;MAC7I,IAAI,CAACW,QAAQ,CAACZ,IAAI,CAACO,MAAM,EAAE;QACvB,IAAI,CAACL,KAAI,GAAI,wDAAuD;QACpE;MACJ;MACAY,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACZ,IAAI;MACzB,MAAMgB,OAAM,GAAI,MAAMjB,KAAK,CAACc,GAAG,CAAC,uDAAuDD,QAAQ,CAACZ,IAAI,CAAC,CAAC,CAAC,CAACiB,GAAG,QAAQL,QAAQ,CAACZ,IAAI,CAAC,CAAC,CAAC,CAACkB,GAAG,sDAAsD;MAC7L,IAAI,CAACf,IAAG,GAAIa,OAAO,CAAChB,IAAG;MACvBc,OAAO,CAACC,GAAG,CAACC,OAAO;IACvB,CAAC;IACDG,UAAUA,CAACC,QAAQ,EAAE;MACjB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,QAAO,GAAI,IAAI,CAAC;MACtC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC;IACnF,CAAC;IACDC,aAAaA,CAACC,GAAG,EAAE;MACf,MAAMC,UAAS,GAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC;MAC/E,MAAMC,KAAI,GAAIC,IAAI,CAACC,KAAK,CAACJ,GAAE,GAAI,EAAE,IAAI,CAAC;MACtC,OAAOC,UAAU,CAACC,KAAK,CAAC;IAC5B;EACJ,CAAC;EACDG,QAAQ,EAAC;IACLC,QAAQA,CAAA,EAAE;MACN,OAAO,GAAE,GAAI,IAAI,CAAChC,IAAG,GAAI,GAAE;IAC/B,CAAC;IACDiC,QAAQA,CAAA,EAAE;MACN,OAAO,eAAc,GAAI,IAAI,CAAC/B,IAAI,CAACgC,IAAI,CAACC,IAAG,GAAI,IAAG;IACtD,CAAC;IACDC,aAAaA,CAAA,EAAG;MACZ,OAAO,mBAAkB,GAAI,IAAI,CAAClC,IAAI,CAACgC,IAAI,CAACG,UAAS,GAAI,IAAI;IACjE,CAAC;IACDC,YAAYA,CAAA,EAAG;MACX,OAAO,aAAY,GAAI,IAAI,CAACpC,IAAI,CAACgC,IAAI,CAACK,QAAO,GAAI,GAAG;IACxD,CAAC;IACDC,YAAYA,CAAA,EAAG;MACX,OAAO,QAAO,GAAI,IAAI,CAACtC,IAAI,CAACgC,IAAI,CAACO,QAAO,GAAI,MAAM;IACtD,CAAC;IACDC,QAAQA,CAAA,EAAG;MACP,OAAO,SAAQ,GAAI,IAAI,CAACxC,IAAI,CAACyC,IAAI,CAACC,KAAI,GAAI,gBAAe,GAAI,IAAI,CAACnB,aAAa,CAAC,IAAI,CAACvB,IAAI,CAACyC,IAAI,CAACjB,GAAG,CAAC;IACvG,CAAC;IACDmB,UAAUA,CAAA,EAAG;MACT,OAAO,aAAY,GAAI,IAAI,CAAC3C,IAAI,CAAC4C,MAAM,CAACC,GAAE,GAAI,GAAG;IACrD,CAAC;IACDC,cAAcA,CAAA,EAAG;MACb,OAAO,aAAY,GAAK,IAAI,CAAC9C,IAAI,CAAC+C,UAAS,GAAI,IAAI,GAAI,KAAK;IAChE,CAAC;IACDC,WAAWA,CAAA,EAAG;MACV,OAAO,cAAa,GAAI,IAAI,CAAChC,UAAU,CAAC,IAAI,CAAChB,IAAI,CAACiD,GAAG,CAACC,OAAO,CAAC;IAClE,CAAC;IACDC,UAAUA,CAAA,EAAG;MACT,OAAO,eAAc,GAAI,IAAI,CAACnC,UAAU,CAAC,IAAI,CAAChB,IAAI,CAACiD,GAAG,CAACG,MAAM,CAAC;IAClE;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}